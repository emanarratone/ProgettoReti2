<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Login / Registrazione Sist. Autostradale</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="css/stylesIndex.css">
</head>
<body>

<input type="radio" name="mode" id="mode-login" class="mode-toggle" checked />
<input type="radio" name="mode" id="mode-register" class="mode-toggle" />

<div class="card" role="main" aria-label="Login e Registrazione Sistema Autostradale">

    <div class="img-side" aria-hidden="true"></div>

    <div class="form-container">
        <div class="mode-switch" role="tablist" aria-label="Scegli modalità">
            <label for="mode-login" role="tab" aria-controls="login-form" tabindex="0">Accedi</label>
            <label for="mode-register" role="tab" aria-controls="register-form" tabindex="0">Registrati</label>
        </div>

        <h1 class="form-title">Sistema Autostradale</h1>
        <p class="form-subtitle">Gestisci il tuo account in modo semplice e sicuro</p>

        <div class="forms-wrapper">

            <!-- Login Form -->
            <form id="login-form" method="post" action="/api/login" novalidate>
                <div class="mb-3">
                    <label for="login-username">Username</label>
                    <input type="text" id="login-username" name="username" class="form-control" placeholder="Inserisci username" autocomplete="username" required />
                </div>
                <div class="mb-3">
                    <label for="login-password">Password</label>
                    <div class="password-wrapper">
                        <input type="password" id="login-password" name="password" class="form-control"
                               placeholder="Inserisci password" autocomplete="current-password" required />
                        <button type="button" class="toggle-pwd" data-target="login-password"
                                aria-label="Mostra password">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>
                        </button>
                    </div>
                </div>
                <div class="d-grid">
                    <button type="submit" class="btn btn-primary" aria-label="Accedi">
                        Accedi
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" class="ms-2">
                            <line x1="5" y1="12" x2="19" y2="12"></line>
                            <polyline points="12 5 19 12 12 19"></polyline>
                        </svg>
                    </button>
                </div>
                <p class="small-text text-center">Non hai un account? <label for="mode-register" style="cursor:pointer;">Registrati</label></p>
                <div class="error" aria-live="polite"></div>
            </form>

            <!-- Register Form -->
            <form id="register-form" method="post" action="/api/register" novalidate>
                <div class="mb-3">
                    <label for="reg-username">Username</label>
                    <input type="text" id="reg-username" name="username" class="form-control"
                           placeholder="Mario Rossi" autocomplete="username" required />
                </div>
                <div class="mb-3">
                    <label for="reg-password">Password</label>
                    <div class="password-wrapper">
                        <input type="password" id="reg-password" name="password" class="form-control"
                               placeholder="Inserisci password" autocomplete="new-password" required />
                        <button type="button" class="toggle-pwd" data-target="reg-password"
                                aria-label="Mostra password">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>
                        </button>
                    </div>
                </div>

                <div class="mb-3">
                    <label for="reg-confirm">Conferma Password</label>
                    <div class="password-wrapper">
                        <input type="password" id="reg-confirm" name="confirmPassword" class="form-control"
                               placeholder="Conferma password" autocomplete="new-password" required />
                        <button type="button" class="toggle-pwd" data-target="reg-confirm"
                                aria-label="Mostra password">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>
                        </button>
                    </div>
                </div>

                <fieldset>
                    <legend>Ruolo</legend>
                    <div class="role-options" role="radiogroup" aria-labelledby="role-legend">
                        <input type="radio" id="role-impiegato" name="role" value="impiegato" checked />
                        <label for="role-impiegato" title="Impiegato">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" width="18" height="18" aria-hidden="true">
                                <circle cx="12" cy="8" r="3" />
                                <path d="M6 20c0-3 4-5 6-5s6 2 6 5" />
                            </svg>
                            Impiegato
                        </label>

                        <input type="radio" id="role-amministratore" name="role" value="amministratore" />
                        <label for="role-amministratore" title="Amministratore">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" width="18" height="18" aria-hidden="true">
                                <path d="M12 2l2.9 6.2L21 9l-4.5 3.5L17.8 20 12 16.8 6.2 20l1.3-7.5L3 9l6.1-.8L12 2z" />
                            </svg>
                            Amministratore
                        </label>
                    </div>
                </fieldset>

                <div class="d-grid">
                    <button type="submit" class="btn btn-success" aria-label="Registrati">
                        Registrati
                    </button>
                </div>
                <p class="small-text text-center">Hai già un account? <label for="mode-login" style="cursor:pointer;">Accedi</label></p>
                <div class="error" aria-live="polite"></div>
            </form>
        </div>
    </div>
</div>
<script src="js/index.js"></script>

</body>
</html>