from machine import Pin, PWMimport timefrom Dispositivo import Dispositivoimport Configclass Sbarra(Dispositivo):    def __init__(self, status, corsia, casello, dispositivo_id, pin_id=12, angolo_aperto=Config.ANGOLO_APERTO, angolo_chiuso=Config.ANGOLO_CHIUSO):        super().__init__(status, corsia, casello, "SBARRA", dispositivo_id)        self.pin_id = pin_id        self.open_angle = angolo_aperto        self.close_angle = angolo_chiuso        self.servo = None        self.init_hardware()    def _angle_to_duty(self, angle):        return int(1638 + (angle / 180) * (8192 - 1638))    def init_hardware(self):        try:            self.servo = PWM(Pin(self.pin_id), freq=50)            self.status = True            self.close_bar()            return 1        except Exception as e:            print(f"ERRORE Hardware: {e}")            self.status = False            return 0    def open_bar(self):        if self.status:            print("ðŸ”“ Apertura...")            self.servo.duty_u16(self._angle_to_duty(self.open_angle))            time.sleep(1.5) # Aumentato il tempo per dare modo al motore di girare    def close_bar(self):        if self.status:            print("ðŸ”’ Chiusura...")            self.servo.duty_u16(self._angle_to_duty(self.close_angle))            time.sleep(1.5)